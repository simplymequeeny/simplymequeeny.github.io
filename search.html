<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <script src="js/lib/jquery-3.2.0.min.js" type="text/javascript"></script>
  <script src="js/lib/jquery.validate.js"></script>

  <style>
    table {
      border-collapse: collapse;
      width: 100%;
    }

    table, th, td {
      border: 1px solid black;
    }

    th, td {
      text-align: left;
      padding: 8px;
    }

    tr:nth-child(even){background-color: #f2f2f2}
  </style>

  <script src="js/database.js" type="text/javascript"></script>
  <script src="js/dal.js" type="text/javascript"></script>
  <script type="text/javascript">
    $(document).ready(function() {
      DAL.initDB();

      DAL.selectAll(function(tx, results) {
        var html = '<table><thead ' +
          'style=" background-color: #4CAF50; font-weight: bolder ;">' +
          '<tr><td>Seller Name</td><td>Address</td><td>City</td><td>Phone</td>' +
          '<td>Email</td><td>Make</td><td>Model</td><td>Year</td></tr></thead>';

        console.info(tx);
        console.info(results);
        if (results.rows.length > 0) {
          for (var i = 0; i < results.rows.length; i++) {
            row = results.rows[i];
            html += '<tr>' +
              '<td>' + row['name'] + '</td>' +
              '<td>' + row['address'] + '</td>' +
              '<td>' + row['city'] + '</td>' +
              '<td>' + row['phone'] + '</td>' +
              '<td>' + row['email'] + '</td>' +
              '<td>' + row['make'] + '</td>' +
              '<td>' + row['model'] + '</td>' +
              '<td>' + row['year'] + '</td>' +
              '</tr>';
          }
        }
        else {
          html += '<tr><td colspan="8">No records found</td></tr>';
        }

        html += '</table>';

        $('#dataTable').html(html);
      });
    });
  </script>

  <title>PROG2070 - Assignment 4 - Web Application - Search</title>
</head>
<body>
  <div id="dataTable">
  </div>
  <br>
  <a href="index.html">Home</a>
</body>
</html>